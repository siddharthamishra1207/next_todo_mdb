ğŸ§  LOGIC MAP FOR AUTH + TASK DASHBOARD SYSTEM

1ï¸âƒ£ User Flow: Entry Point
   User Visits Site â”€â–¶ / 
                â””â”€â–¶ middleware.ts checks token
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                        â”‚
          token exists           token missing
              â”‚                        â”‚
       redirect to /view         redirect to /login

2ï¸âƒ£ Authentication Flow
     Login Page (email, password) â”€â–¶ axios POST /api/auth/login
                                      â”‚
                                Validate user
                                Generate JWT
                                Set token cookie

    Signup Page (username, email, password) â”€â–¶ axios POST /api/auth/signup
                                      â”‚
                                 Create user in DB
                                 Redirect to /login

    Logout â”€â–¶ axios GET /api/auth/logout
        â””â”€â–¶ Clear token cookie

3ï¸âƒ£ Protected Route: /view
    /view â”€â–¶ middleware.ts
      â””â”€â–¶ if token valid â†’ allow access
      â””â”€â–¶ if token invalid â†’ redirect to /login

4ï¸âƒ£ Dashboard Page Logic (/view/page.tsx)

 On load:
  â”œâ”€â”€ axios.get(/api/userinfo) â†’ Set { username, email }
  â””â”€â”€ axios.get(/api/run/taskview) â†’ Load userâ€™s tasks

On Add Task:
  â””â”€â”€ axios.post(/api/run/tasksave) with task data
      â””â”€â–¶ backend verifies user from token
      â””â”€â–¶ save task with userId

On Edit Task:
  â””â”€â”€ click [Edit] â†’ show modal with existing data
      â””â”€â”€ axios.put(/api/run/taskupdate/:id)
          â””â”€â–¶ backend checks task belongs to user
          â””â”€â–¶ update task in DB

On Delete Task:
  â””â”€â”€ axios.delete(/api/run/taskdel/:id)
      â””â”€â–¶ backend checks task belongs to user
      â””â”€â–¶ delete task from DB

On Logout:
  â””â”€â”€ axios.get(/api/auth/logout)
      â””â”€â–¶ clear cookie
      â””â”€â–¶ redirect to /login


5ï¸âƒ£ Backend API Summary
| Endpoint                  | Method | Purpose                | Protected? |
| ------------------------- | ------ | ---------------------- | ---------- |
| `/api/auth/login`         | POST   | User login             | âŒ          |
| `/api/auth/signup`        | POST   | User registration      | âŒ          |
| `/api/auth/logout`        | GET    | Clear token            | âœ…          |
| `/api/userinfo`           | GET    | Get user info from JWT | âœ…          |
| `/api/run/taskview`       | GET    | Get tasks for user     | âœ…          |
| `/api/run/tasksave`       | POST   | Save new task          | âœ…          |
| `/api/run/taskupdate/:id` | PUT    | Update user task       | âœ…          |
| `/api/run/taskdel/:id`    | DELETE | Delete user task       | âœ…          |


6ï¸âƒ£ Data Model Relationship
 User
â”œâ”€â”€ _id
â”œâ”€â”€ username
â”œâ”€â”€ email
â””â”€â”€ password (hashed)

Task
â”œâ”€â”€ _id
â”œâ”€â”€ taskTitle
â”œâ”€â”€ taskDetails
â””â”€â”€ userId (ref to User._id)
